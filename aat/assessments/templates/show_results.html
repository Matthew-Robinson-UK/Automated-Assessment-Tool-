{% extends("layout.html") %}
{% block content %}
<h1>Summary of Highest Attempt</h1>

<p>Score: {{ result }} / {{ possible_total }}</p>

<h2>Questions</h2>

{% for q in t1_questions %}
    <h3>{{ q.question_text }}</h3>
    <p>Result: {% if t1_answers[q.q_t1_id][2] %}Correct!{% else %}Incorrect{% endif %}</p>
    <p>Marks Gained: {% if t1_answers[q.q_t1_id][2] %}{{ q.num_of_marks }}{% else %}0{% endif %}</p>
    <p>Your Answer: {{ t1_answers[q.q_t1_id][0] }}</p>
    <p>Correct Answer: {{ t1_answers[q.q_t1_id][1] }}</p>
    <h4>Feedback</h4>
    {% if t1_answers[q.q_t1_id][2] %}
        <p class="feedback-or-feedforward">
            {{ q.feedback_if_correct }}
            {{ q.feedforward_if_correct }}
        </p>
    {% else %}
        <p class="feedback-or-feedforward">
            {{ q.feedback_if_wrong }}
            {{ q.feedforward_if_wrong }}
        </p>
    {% endif %}
<hr>
{% endfor %}

{% for q in t2_questions %}
    <h3>{{ q.question_text }}</h3>
    <p>Result: {% if t2_answers[q.q_t2_id][2] %}Correct!{% else %}Incorrect{% endif %}</p>
    <p>Marks Gained: {% if t2_answers[q.q_t2_id][2] %}{{ q.num_of_marks }}{% else %}0{% endif %}</p>
    <p>Your Answer: {{ t2_answers[q.q_t2_id][0] }}</p>
    <p>Correct Answer: {{ t2_answers[q.q_t2_id][1] }}</p> 
    <h4>Feedback</h4>
    {% if t2_answers[q.q_t2_id][2] %}
        <p class="feedback-or-feedforward">
            {{ q.feedback_if_correct }}
            {{ q.feedforward_if_correct }}
        </p>
    {% else %}
        <p class="feedback-or-feedforward">
            {{ q.feedback_if_wrong }}
            {{ q.feedforward_if_wrong }}
        </p>
    {% endif %}
<hr>
{% endfor %}

<button type="button"><a href="{{ url_for('assessments.exit_assessment') }}">Return to Module View</a></button>


{% endblock %}